
#CXXFLAGS = $(GFLAGS) 

LIB = $(LIBDIR)libutility.lib

OBJS =  $(LIB)(BlockAlloc.obj) $(LIB)(Memory.obj)\
        $(LIB)(curve.obj)\
        $(LIB)(crossprod.obj) \
        $(LIB)(RWStatfile.obj)\
				$(LIB)(Sign.obj)



$(LIB):  $(OBJS)
	link /Lib /out:libutility.lib BlockAlloc.obj Memory.obj curve.obj crossprod.obj RWStatfile.obj Sign.obj


$(LIB)(BlockAlloc.obj) : BlockAlloc.cpp BlockAlloc.h resize_array.h
	icl /debug /c BlockAlloc.cpp

$(LIB)(Memory.obj) : Memory.cpp Memory.h
	icl /debug /c Memory.cpp

$(LIB)(curve.obj): curve.cpp curve.h
	icl /debug /c curve.cpp

$(LIB)(crossprod.obj): crossprod.cpp utilities.h
	icl /debug /c crossprod.cpp

$(LIB)(RWStatfile.obj): RWStatfile.cpp RWStatfile.h
	icl /debug /c RWStatfile.cpp

$(LIB)(Sign.obj): Sign.cpp Sign.h
	icl /debug /c Sign.cpp
